{% extends "::base.html.twig" %}

{% block title %}Система управления сайтом{% endblock %}

{% set _page_breadcrumb = block('page_breadcrumb') %}
{% set _page_menu = block('page_menu') %}
{% set _page_content = block('page_content') %}

{% block body %}
    <div class="admin-container">
        {{ include("ShopAdminBundle::header.html.twig") }}
        {% block content %}
            <div class="row">
                {% block page_container %}
                    {% if _page_breadcrumb %}
                        {{ _page_breadcrumb|raw }}
                    {% endif %}
                    {% if _page_menu %}
                        <section class="vertical tabs">
                            <ul class="tab-nav three columns">
                                {{ _page_menu|raw }}
                            </ul>
                            <div class="tab-content nine columns active">
                                {% if _page_content %}
                                    {{ _page_content|raw }}
                                {% else %}
                                    {{ form(form) }}
                                {% endif %}
                            </div>
                        </section>
                    {% else %}
                        {% if _page_content %}
                            {{ _page_content|raw }}
                        {% else %}
                            {{ form(form) }}
                        {% endif %}
                    {% endif %}
                {% endblock %}
            </div>
        {% endblock %}
    </div>

    <script type="text/javascript" src="/js/autosize-master/jquery.autosize.min.js"></script>

    <script src="/js/maxlength/jquery.maxlength.min.js"></script>
    <link href="/js/maxlength/jquery.maxlength.css" type="text/css" rel="stylesheet">

    <script>
        $(function(){

            $('textarea').autosize();

            $.maxlength.setDefaults({
                feedbackText : 'Осталось символов {r} ({m} максимальное кол-во)',
                overflowText : '{o} - слишком большое кол-во символов ({m} максимальное кол-во)'
            });

            $('.maxlength').each(function(){
                $(this).maxlength($(this).data());
            });

        });
    </script>

{% endblock %}
